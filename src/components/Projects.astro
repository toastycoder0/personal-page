---
import { getRepositories } from '@/lib/github'

const { data } = await getRepositories()
---

<section>
  <h2 class='font-bold text-xl mb-6'>Projects</h2>

  <div class='grid gap-4 md:grid-cols-2 lg:grid-cols-3'>
    {
      data.slice(0, 3).map(({ name, html_url: url, description, topics = [] }) => (
        <a
          class='border-[1px] p-4 border-dark-gray/60 rounded-lg flex flex-col duration-200 gap-3 hover:bg-dark-gray/20 hover:border-gray focus-visible:bg-dark-gray/20 focus-visible:border-gray''
          href={url}
          target='_blank'
          rel='noreferrer noopener'
        >
          <div class='flex items-center gap-2'>
            <svg height='16' viewBox='0 0 16 16' version='1.1' width='16' fill='currentColor'>
              <path d='M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z' />
            </svg>

            <h3 class='text-sm font-bold text-blue'>{name}</h3>
          </div>

          <p class='text-[13px] text-gray text-justify'>{description}</p>

          <div class='flex items-center flex-wrap gap-2'>
            {topics.map((name) => (
              <span class='text-[13px] font-bold py-0.5 px-3 rounded-full bg-blue/10 text-blue'>
                {name}
              </span>
            ))}
          </div>
        </a>
      ))
    }
  </div>
</section>
